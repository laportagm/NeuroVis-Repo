Analyze the performance of this code and suggest three optimisations:
